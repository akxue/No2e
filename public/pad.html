<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<!-- jQuery -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<title>No2</title>
</head>
<body onload="init()">
	<!-- Basic textarea for now, take input in text  -->
	<textarea id="input" rows="30" cols="100">Notes!</textarea>

	<!-- Utilize button for now -->
	<div id="compare">
		<button style="width: 100px; height: 20px; background: white; z-index: 10000; position: relative; left: 10px; top: 10px" id="compare" type="button" name="button">Compare</button>
	</div>

	<!-- Area for diff output -->
	<div id="diffs">
		<pre id="display"></pre>
	</div>

	<script>
	var userId = 0;

	function init(){
		userId = Math.floor(Math.random() * 9999999999).toString();
		var input = {"id" : userId};
		console.log('test');
        $.ajax({
            type: "POST",
            url: "http://localhost:8080/user",
	    	data: JSON.stringify(input),
			contentType: "application/json",
            success: function(){
                console.log("success");
            },
            error: function(){
                console.log("fail");
            }
        });
	}

	$("#compare").click(function(e){
	    var contents = $("textarea#input").val();
	    console.log(contents);
		var data = {"contents" : contents, "id" : userId}

	    $.ajax({
	        type: "POST",
	        url: "http://localhost:8080/",
	        data: JSON.stringify(data),
			contentType: "application/json",
	        success: function(){
	            console.log("success");
	        },
	        error: function(){
	            console.log("fail");
	        }
	    });
	})

	</script>

<pre id="display"></pre>

</body>

</html>
